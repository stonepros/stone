meta:
- desc: install stone/octopus latest
tasks:
- install:
    exclude_packages:
      - stone-mgr-stoneadm
      - stoneadm
      - libstonefs-dev
    branch: octopus
- print: "**** done install octopus"
- stone:
    conf:
      global:
        bluestore_warn_on_legacy_statfs: false
        bluestore warn on no per pool omap: false
        mon pg warn min per osd: 0
      mon:
        mon_warn_on_insecure_global_id_reclaim: false
        mon_warn_on_insecure_global_id_reclaim_allowed: false
    log-ignorelist:
      - Not found or unloadable
      - evicting unresponsive client
- exec:
    osd.0:
      - stone osd require-osd-release octopus
      - stone osd set-require-min-compat-client octopus
- print: "**** done stone"
- rgw:
   - client.0
- print: "**** done => started rgw client.0"
overrides:
  stone:
    conf:
      mon:
        mon warn on osd down out interval zero: false
